# ======================================================================
# OPTIMIZED .HTACCESS FILE FOR APACHE (HOSTINGER)
# Performance + Security + SEO
# ======================================================================

# ----------------------------------------------------------------------
# GZIP COMPRESSION (Faster Loading)
# ----------------------------------------------------------------------
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript
  AddOutputFilterByType DEFLATE application/javascript application/x-javascript
  AddOutputFilterByType DEFLATE application/json application/xml application/xhtml+xml
  AddOutputFilterByType DEFLATE application/rss+xml application/atom+xml
  AddOutputFilterByType DEFLATE image/svg+xml
</IfModule>

# ----------------------------------------------------------------------
# BROWSER CACHING (Faster Repeat Visits)
# ----------------------------------------------------------------------
<IfModule mod_expires.c>
  ExpiresActive On
  
  # Images
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
  ExpiresByType image/webp "access plus 1 year"
  ExpiresByType image/svg+xml "access plus 1 year"
  ExpiresByType image/x-icon "access plus 1 year"
  
  # CSS and JavaScript
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresByType application/x-javascript "access plus 1 month"
  
  # Fonts
  ExpiresByType font/woff "access plus 1 year"
  ExpiresByType font/woff2 "access plus 1 year"
  ExpiresByType application/font-woff "access plus 1 year"
  ExpiresByType application/font-woff2 "access plus 1 year"
  
  # HTML
  ExpiresByType text/html "access plus 0 seconds"
</IfModule>

# ----------------------------------------------------------------------
# CACHE CONTROL HEADERS
# ----------------------------------------------------------------------
<IfModule mod_headers.c>
  # Cache static assets
  <FilesMatch "\.(jpg|jpeg|png|gif|webp|svg|ico|css|js|woff|woff2)$">
    Header set Cache-Control "max-age=31536000, public"
  </FilesMatch>
  
  # Don't cache HTML
  <FilesMatch "\.(html|htm)$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
  </FilesMatch>
</IfModule>

<IfModule mod_rewrite.c>

  RewriteEngine On
  RewriteBase /

  # ----------------------------------------------------------------------
  # 301 REDIRECTS (Old WordPress to New React)
  # ----------------------------------------------------------------------
  RewriteRule ^contact-us/?$ /contact [R=301,L]
  RewriteRule ^terms-conditions/?$ /terms-and-conditions [R=301,L]
  RewriteRule ^scrapiz-koliwada/?$ /dharavi-koliwada [R=301,L]
  RewriteRule ^scrapiz-nala-sopara/?$ /nalasopara [R=301,L]
  RewriteRule ^scrapiz-dharavi/?$ /dharavi [R=301,L]
  RewriteRule ^scrapiz-bandra-east/?$ /bandra-east [R=301,L]
  RewriteRule ^scrapiz-bandra/?$ /bandra [R=301,L]
  RewriteRule ^scrapiz-kandivali/?$ /kandivali [R=301,L]
  RewriteRule ^scrapiz-goregaon/?$ /goregaon [R=301,L]
  RewriteRule ^sell-scrap-without-leaving-home-in-mumbai/?$ /blog/sell-scrap-without-leaving-home-in-mumbai [R=301,L]
  RewriteRule ^best-price-for-scrap-metal-near-me-sell-now/?$ /blog/best-price-for-scrap-metal-near-me-sell-now [R=301,L]
  RewriteRule ^sell-scrap-online-in-mumbai-instant-pickup-call-now/?$ /blog/sell-scrap-online-in-mumbai-instant-pickup-call-now [R=301,L]
  
  # ----------------------------------------------------------------------
  # REACT ROUTER HANDLER (Yeh hamesha AAKHIR me hona chahiye)
  # ----------------------------------------------------------------------
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME} !-l
  RewriteRule . /index.html [L]

</IfModule>
